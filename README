

mktags is a script that generates TAGS files for Maven-managed projects with
Eclipse .project/.classpath files.

Along with some vim script magic, you can make vim use the tags files for only
the current git-repo and its dependency jars.

To set up:

1) Make sure 'gitroot' is in your $PATH.
2) Put the following in your ~/.vimrc: 


" Find the git root, if there is one, and strip any leading/trailing whitespace.
let curGitRoot = system("gitroot")
let curGitRoot = substitute(curGitRoot, "^\\s\\+", "", "g")
let curGitRoot = substitute(curGitRoot, "[\\s]\\+$", "", "g")
let curGitRoot = substitute(curGitRoot, "\\n", "", "g")
let curGitRoot = substitute(curGitRoot, "\\r", "", "g")

let fullTagList = strlen(curGitRoot) ? system("cat " . curGitRoot . "/.taglist") :
    \ "~/src/git/tags\\ ~/src/tags"
" 'set tags' will tokenize the spaces properly only if we use 'set'.
" Simply doing 'let &tags=...' won't properly pick up multiple tags
" files.
execute "set tags=" . fullTagList


3) Run mktags.sh -d <project-dir-name>, or cd <project-dir-name> && mktags.sh

This works for projects that use Maven to control their artifacts, and have
Eclipse projects generated by 'mvn eclipse:eclipse'. I use this with eclim
(www.eclim.org) to use Eclipse-like features like code autocomplete and online
syntax checking, but with a vim frontend.

The script snippet for your ~/.vimrc will ensure that if your project is
controlled by git, it will recursively seek toward the root of your project
(the parent dir of .git/) and look for the .taglist file present there
(generated by mktags.sh).

